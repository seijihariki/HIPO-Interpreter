webpackJsonp([1],{"08/Q":function(t,e){},"4/hK":function(t,e){},CDPb:function(t,e){},LQwu:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i,s=n("VU/8")({name:"App"},o,!1,function(t){n("08/Q")},null,null).exports,a=n("/ocq"),c=n("bOdI"),u=n.n(c),l=n("E5Az"),m=n("8U58"),d=n.n(m),p=(n("4/hK"),n("5IAE"),n("UM8r"),n("+jlW")),f=n.n(p),v=(i={LDA:"LDA",STA:"STA",ADD:"ADD",SUB:"SUB",MUL:"MUL",DIV:"DIV",REM:"REM",REV:"REV",INN:"INN",PRN:"PRN",NOP:"NOP",JMP:"JMP",JLE:"JLE",JDZ:"JDZ",JGT:"JGT",JEQ:"JEQ",JLT:"JLT",DPI:"DPI",STP:"STP",CEA:"LDA",CAE:"STA",Som:"ADD",Sub:"SUB",Mul:"MUL",Div:"DIV",Rem:"REM",Rev:"REV",Lei:"INN",Imp:"PRN",Nop:"NOP",Des:"JMP",DNI:"JLE",DDZ:"JDZ",DPo:"JGT",DZe:"JEQ",DNe:"JLT"},u()(i,"DPI","JGE"),u()(i,"Par","STP"),i),h={"11XX":"LDA","12XX":"STA","21XX":"ADD","22XX":"SUB","23XX":"MUL","24XX":"DIV","25XX":"REM","29XX":"REV","31XX":"INN","41XX":"PRN","50XX":"NOP","51XX":"JMP","52XX":"JLE","53XX":"JDZ","54XX":"JGT","55XX":"JEQ","56XX":"JLT","57XX":"JGE","70XX":"STP"};d.a.defineMode("hipo",function(){return{token:function(t,e){var n=[{regex:/\[.*\]/,token:"comment"},{regex:/;.*/,token:"comment"},{regex:/[a-zA-Z_]+/,token:"variable"},{regex:/(\+|\-)?[0-9]{1,4}/,token:"number"}];for(var r in v)if(t.match(r))return"keyword";for(var o in n)if(t.match(n[o].regex))return n[o].token;return t.next(),null}}});var g={name:"Interpreter",components:{codemirror:l.codemirror,contextMenu:f.a},data:function(){return{cmOptions:{tabSize:4,mode:"hipo",theme:"monokai",foldGutter:!0,styleActiveLine:!0,lineNumbers:!0,lineWrapping:!0,line:!0},timeout:null,running:!1,ip:0,rp:0,ips:50,acc:0,memory:Array(100),memory_s:Array(100),cmds:{},code:"",inp:"",out:"",labels:{},log:[],menuData:{index:0}}},watch:{memory:{handler:function(t,e){for(var n=0;n<100;n++)this.$set(this.memory_s,n,this.formatNumber(this.memory[n]))},deep:!0},timeout:function(t,e){this.running=null!=t}},beforeMount:function(){for(var t=this,e=0;e<100;e++)this.memory[e]=0;for(e=0;e<100;e++)this.memory_s[e]=this.formatNumber(0);this.cmds={LDA:{code:1100,func:function(e){return t.acc=t.memory[e],t.ip++,!0}},STA:{code:1200,func:function(e){return t.$set(t.memory,e,t.acc),t.ip++,!0}},ADD:{code:2100,func:function(e){return t.acc+=t.memory[e],t.ip++,!0}},SUB:{code:2200,func:function(e){return t.acc-=t.memory[e],t.ip++,!0}},MUL:{code:2300,func:function(e){return t.acc*=t.memory[e],t.ip++,!0}},DIV:{code:2400,func:function(e){return t.acc=Math.floor(t.acc/t.memory[e]),t.ip++,!0}},REM:{code:2500,func:function(e){return t.acc%=t.memory[e],t.ip++,!0}},REV:{code:2900,func:function(e){return t.$set(t.memory,e,-t.acc),t.ip++,!0}},INN:{code:3100,func:function(e){var n=parseInt(t.inp.split("\n")[t.rp]);return isNaN(n)?(console.error("ERROR: INVALID INPUT"),t.error("ERROR: Couldn't read input from rip="+t.rp+"!"),!1):(console.log("Reading "+n+" into "+e),t.$set(t.memory,e,n),t.rp++,t.ip++,!0)}},PRN:{code:4100,func:function(e){t.out+=t.memory[e]+"\n",t.ip++;var n=t.$refs.out_f;return n.scrollTop=n.scrollHeight,!0}},NOP:{code:5e3,func:function(e){return t.ip++,!0}},JMP:{code:5100,func:function(e){return t.ip=e,!0}},JLE:{code:5200,func:function(e){return t.acc<=0?t.ip=e:t.ip++,!0}},JDZ:{code:5300,func:function(e){return 0!=t.acc?t.ip=e:t.ip++,!0}},JGT:{code:5400,func:function(e){return t.acc>0?t.ip=e:t.ip++,!0}},JEQ:{code:5500,func:function(e){return 0==t.acc?t.ip=e:t.ip++,!0}},JLT:{code:5600,func:function(e){return t.acc<0?t.ip=e:t.ip++,!0}},JGE:{code:5700,func:function(e){return t.acc>=0?t.ip=e:t.ip++,!0}},STP:{code:7e3,func:function(t){return console.log("Program ended!"),!1}}}},methods:{edit:function(t){var e=parseInt(prompt("Enter value for address "+this.formatNumber(t),this.formatNumber(this.memory[t])));this.$set(this.memory,t,e||this.memory[t]),e?info("memory["+this.formatNumber(t)+"] = "+this.formatNumber(e)):error("No changes made to memory["+this.formatNumber(t)+"]")},info:function(t){var e=this;this.log.push({type:"info",message:t,index:this.log.length}),this.$nextTick(function(){var t=e.$refs.log_area;t.scrollTop=t.scrollHeight})},error:function(t){var e=this;this.log.push({type:"error",message:t,index:this.log.length}),this.$nextTick(function(){var t=e.$refs.log_area;t.scrollTop=t.scrollHeight})},run:function(){this.timeout?this.info("Already running!"):(this.info("Started running!"),this.out="",this.loop())},loop:function(){var t=this;clearTimeout(this.timeout),this.step()?this.timeout=setTimeout(function(){t.loop()},1e3/this.ips):(this.info("Program stopped!"),this.timeout=null)},stop:function(){console.log("Stop"),clearTimeout(this.timeout),this.timeout=null},reset:function(){for(var t=0;t<100;t++)this.$set(this.memory,t,0);this.acc=this.rp=this.ip=0,this.out="",this.log=[]},clear:function(){for(var t=0;t<100;t++)this.$set(this.memory,t,0);this.acc=this.rp=this.ip=0,this.out="",this.inp="",this.code="",this.log=[]},step:function(){var t=this.memory[this.ip],e=t%100,n=(t-e)/100,r=h[n.toString()+"XX"];return r?this.cmds[r].func(e):(console.log(n.toString()+"XX"),console.error("ERROR: INVALID INSTRUCTION"),this.error("Invalid instruction "+this.formatNumber(t)),!1)},formatNumber:function(t){for(var e=Math.abs(t).toString();e.length<4;)e="0"+e;return e=t<0?"-"+e:"+"+e},translate:function(){this.info("Started translating..."),console.log("Translating...");var t=this.code,e=0;this.labels={};var n=t.split("\n"),r=[];for(var o in n){(s=(s=(s=(s=n[o]).replace(/\[[^\]]*\]/g,"")).replace(/;.*/g,"")).replace(/\s+/g," ").trim()).length&&r.push(s)}for(var i in r){var s=r[i];console.log("Searching for labels in: "+s);var a=s.split(" "),c=0,u=parseInt(a[c]);if(/^[0-9]+$/.test(a[c])&&!isNaN(u)){if(u>99)return console.error("ERROR: INVALID ADDRESS"),void this.error("ERROR: Invalid address "+this.formatNumber(u));e=u,console.log("Address is now "+u),c++}var l=a[c];if(console.log(l),/^[a-zA-Z_]\w*$/.test(l)&&!v[l]){if(console.log("Is label!"),this.labels[l])return console.error("ERROR: ALREADY EXISTING"),void this.error("ERROR: Label '"+toString(l)+"' already exists!");console.log("Registering label "+l+" at "+e),this.labels[l]=e,c++}e++}for(var i in e=0,r){s=r[i];console.log("Processing line: "+s);a=s.split(" "),c=0;var m=[];u=parseInt(a[c]);if(/^[0-9]+$/.test(a[c])&&!isNaN(u)){if(u>99)return console.error("ERROR: INVALID ADDRESS"),void this.error("ERROR: Invalid address "+this.formatNumber(u));e=u,console.log("Address is now "+u),m.push("addr"),c++}l=a[c];if(/^[a-zA-Z_]\w*$/.test(l)&&!v[l]&&this.labels[l]&&(m.push("label"),c++),console.log(a[c]),/^(\+|\-)?[0-9]{1,4}$/.test(a[c])){if(d=(d=a[c]).replace("+",""),a[c+1])return console.error("ERROR: UNKNOWN INSTRUCTION FORMAT"),void this.error("ERROR: Line '"+s+"' could not be understood!");m.push("value"),console.log("At "+e+" is "+this.formatNumber(parseInt(d))),this.$set(this.memory,e++,parseInt(d))}else{if(!v[a[c]])return console.error("ERROR: INVALID VALUE OR COMMAND"),void this.error("ERROR: '"+a[c]+"' could not be understood as a command nor a value!");var d=0;if(d+=this.cmds[v[a[c]]].code,m.push("command"),console.log(d),a[c+1])if(console.log(),this.labels[a[c+1]])d+=this.labels[a[c+1]];else{var p=parseInt(a[c+1]);if(isNaN(p))return console.error("ERROR: INVALID LABEL OR ADDRESS"),void this.error("ERROR: Couldn't find label or address '"+a[c+1]+"'");if(p>99)return console.error("ERROR: INVALID ADDRESS"),void this.error("ERROR: Invalid address "+this.formatNumber(p));d+=p,m.push("address")}if(a[c+2])return console.error("ERROR: UNKNOWN INSTRUCTION FORMAT"),void this.error("ERROR: Line '"+s+"' could not be understood!");console.log("At "+e+" is "+this.formatNumber(d)),this.$set(this.memory,e++,d)}console.log(m)}}}},R={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container vert"},[n("div",{staticClass:"container"},[n("div",{staticClass:"container vert third"},[n("codemirror",{ref:"editor_r",staticClass:"editor",attrs:{options:t.cmOptions},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.inp,expression:"inp"}],staticClass:"textfield inp",attrs:{placeholder:"Input"},domProps:{value:t.inp},on:{input:function(e){e.target.composing||(t.inp=e.target.value)}}}),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.out,expression:"out"}],ref:"out_f",staticClass:"textfield out",attrs:{placeholder:"Output"},domProps:{value:t.out},on:{input:function(e){e.target.composing||(t.out=e.target.value)}}})],1),t._v(" "),n("div",{staticClass:"container vert two_thirds"},[n("div",{staticClass:"valbar"},[n("div",[t._v("IPS (Instructions per second): "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.ips,expression:"ips",modifiers:{number:!0}}],staticClass:"register",attrs:{type:"number"},domProps:{value:t.ips},on:{input:function(e){e.target.composing||(t.ips=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),n("div",[t._v("IP (Instruction pointer): "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.ip,expression:"ip",modifiers:{number:!0}}],staticClass:"register",attrs:{type:"number"},domProps:{value:t.ip},on:{input:function(e){e.target.composing||(t.ip=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),n("div",[t._v("ACC (Accumulator): "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.acc,expression:"acc",modifiers:{number:!0}}],staticClass:"register",attrs:{type:"number"},domProps:{value:t.acc},on:{input:function(e){e.target.composing||(t.acc=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),n("div",[t._v("RP (Reading pointer): "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rp,expression:"rp",modifiers:{number:!0}}],staticClass:"register",attrs:{type:"number"},domProps:{value:t.rp},on:{input:function(e){e.target.composing||(t.rp=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),n("div",{staticClass:"btnbar"},[n("button",{staticClass:"control",attrs:{disabled:t.running},on:{click:t.translate}},[t._v("Translate")]),t._v(" "),n("button",{staticClass:"control",attrs:{disabled:t.running,isrunning:t.running},on:{click:t.run}},[t._v("Run")]),t._v(" "),n("button",{staticClass:"control",attrs:{disabled:!t.running},on:{click:t.stop}},[t._v("Stop")]),t._v(" "),n("button",{staticClass:"control",attrs:{disabled:t.running},on:{click:t.step}},[t._v("Step")]),t._v(" "),n("button",{staticClass:"control",attrs:{disabled:t.running},on:{click:t.reset}},[t._v("Reset")]),t._v(" "),n("button",{staticClass:"control",attrs:{disabled:t.running},on:{click:t.clear}},[t._v("Clear")]),t._v(" "),n("button",{staticClass:"control",attrs:{disabled:t.running},on:{click:function(){return t.inp=t.out=""}}},[t._v("Clear IO")]),t._v(" "),n("button",{staticClass:"control",attrs:{disabled:t.running},on:{click:function(){return t.log=[]}}},[t._v("Clear Log")])]),t._v(" "),n("div",{staticClass:"memorytable"},[n("table",{staticClass:"tg"},[n("tr",[n("td"),t._v(" "),t._l(10,function(e){return n("td",{key:e,staticClass:"tg tg-header"},[t._v("\n              "+t._s(e-1)+"\n            ")])})],2),t._v(" "),t._l(10,function(e){return n("tr",{key:e},[n("td",{staticClass:"tg tg-header"},[t._v("\n              "+t._s(10*(e-1))+"\n            ")]),t._v(" "),t._l(10,function(r){return n("td",{key:r,staticClass:"tg tg-item",attrs:{pointed:10*(e-1)+(r-1)==t.ip},on:{contextmenu:function(n){n.preventDefault(),t.$refs.ctxMenu.open(n,{index:10*(e-1)+(r-1)})}}},[t._v("\n              "+t._s(t.memory_s[10*(e-1)+(r-1)])+"\n            ")])})],2)})],2)]),t._v(" "),n("div",{staticClass:"logarea"},[n("ul",{ref:"log_area"},t._l(t.log,function(e){return n("li",{key:e.index,class:{error:"error"==e.type}},[t._v(t._s(e.message))])}))])])]),t._v(" "),n("context-menu",{ref:"ctxMenu",attrs:{id:"context-menu"},on:{click:function(e){t.edit(t.menuData.index)},"ctx-open":function(e){return t.menuData=e}}},[n("li",{staticClass:"ctx-item",on:{click:function(){return t.ip=t.menuData.index}}},[t._v("Move pointer to ["+t._s(t.menuData.index)+"]")]),t._v(" "),n("li",{staticClass:"ctx-item",on:{click:function(){t.ip=t.menuData.index,t.run()}}},[t._v("Run from ["+t._s(t.menuData.index)+"]")]),t._v(" "),n("li",{staticClass:"ctx-item",on:{click:function(e){t.edit(t.menuData.index)}}},[t._v("Edit value at ["+t._s(t.menuData.index)+"]")])])],1)},staticRenderFns:[]};var b=n("VU/8")(g,R,!1,function(t){n("LQwu"),n("CDPb")},"data-v-7445a702",null).exports;r.a.use(a.a);var N=new a.a({routes:[{path:"/",name:"Interpreter",component:b}]});r.a.config.productionTip=!1,new r.a({el:"#app",router:N,components:{App:s},template:"<App/>"})},UM8r:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.f5723e96aade35822d95.js.map